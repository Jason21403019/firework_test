<!doctype html>
<html lang="zh-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>è½‰é‹å¡ç‰‡ä½¿ç”¨ç¯„ä¾‹</title>
		<style>
			body {
				font-family: 'Noto Sans TC', sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				margin: 0;
				padding: 20px;
			}

			.container {
				max-width: 800px;
				margin: 0 auto;
				background: white;
				border-radius: 20px;
				padding: 40px;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
			}

			h1 {
				text-align: center;
				color: #667eea;
				margin-bottom: 30px;
			}

			.info {
				background: #f5f5f5;
				padding: 20px;
				border-radius: 10px;
				margin-bottom: 30px;
			}

			.info pre {
				overflow-x: auto;
				white-space: pre-wrap;
				word-wrap: break-word;
			}

			.info code {
				background: #fff;
				padding: 2px 6px;
				border-radius: 4px;
				color: #d63384;
				word-break: break-all;
			}

			/* å°å°ºå¯¸å„ªåŒ– */
			@media (max-width: 480px) {
				.container {
					padding: 20px;
				}

				.info {
					padding: 15px;
				}

				.info h2 {
					font-size: 16px;
				}

				.info p,
				.info li {
					font-size: 14px;
				}

				.info pre {
					font-size: 12px;
					padding: 8px;
					background: #fff;
					border-radius: 4px;
				}
			}

			@media (max-width: 360px) {
				body {
					padding: 10px;
				}

				.container {
					padding: 15px;
				}

				.info {
					padding: 12px;
				}

				.info h2 {
					font-size: 15px;
				}

				.info p,
				.info li {
					font-size: 13px;
				}
			}

			#divination-container {
				margin-top: 40px;
			}
			.test-buttons {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 15px;
				margin-top: 15px;
			}

			.test-btn {
				padding: 12px 20px;
				border: none;
				border-radius: 8px;
				font-size: 14px;
				font-weight: bold;
				cursor: pointer;
				transition: all 0.3s ease;
				color: white;
				font-family: 'Microsoft JhengHei', 'PingFang TC', 'Noto Sans TC', sans-serif;
			}

			.test-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
			}

			.test-btn:active {
				transform: translateY(0);
			}

			.test-btn--first {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			}

			.test-btn--normal {
				background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
			}

			.test-btn--final {
				background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
			}

			.test-btn--already {
				background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
			}
			.test-btn--repeat-normal {
				background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>ğŸ´ è½‰é‹å¡ç‰‡ä½¿ç”¨ç¯„ä¾‹</h1>

			<div class="info">
				<h2>ğŸ“Œ ç•¶å‰åƒæ•¸ï¼š</h2>
				<p>æ˜¯å¦é¦–æ¬¡å®Œæˆï¼š<code id="param-first">-</code></p>
				<p>è½‰é‹æ¬¡æ•¸ï¼š<code id="param-count">-</code></p>
				<p>æ˜¯å¦é‡è¤‡éŠç©ï¼š<code id="param-already">-</code></p>
				<p>æœƒå“¡IDï¼š<code id="param-member">-</code></p>
			</div>

			<div class="info">
				<h2>ğŸ’¡ ä½¿ç”¨èªªæ˜ï¼š</h2>
				<p>1. åœ¨æ‚¨çš„ç¶²é ä¸­å¼•å…¥ JS æª”æ¡ˆï¼š</p>
				<pre><code>&lt;script src="https://your-domain.com/divination-card.js"&gt;&lt;/script&gt;</code></pre>

				<p>2. åœ¨ HTML ä¸­åŠ å…¥å®¹å™¨å…ƒç´ ï¼š</p>
				<pre><code>&lt;div id="divination-container"&gt;&lt;/div&gt;</code></pre>

				<p>3. åˆå§‹åŒ–è½‰é‹å¡ç‰‡ï¼š</p>
				<pre><code>&lt;script&gt;
  DivinationCard.init({
    containerId: 'divination-container',
    showFirstTimePopup: true
  });
&lt;/script&gt;</code></pre>

				<p>4. å¾æ´»å‹•é è·³è½‰æ™‚æœƒè‡ªå‹•å¸¶å…¥ä»¥ä¸‹åƒæ•¸ï¼š</p>
				<ul>
					<li><code>first</code> - æ˜¯å¦é¦–æ¬¡å®Œæˆ (1/0)</li>
					<li><code>count</code> - ç´¯è¨ˆè½‰é‹æ¬¡æ•¸</li>
					<li><code>already_played</code> - æ˜¯å¦é‡è¤‡éŠç© (1/0)</li>
					<li><code>udnmember</code> - æœƒå“¡ID</li>
				</ul>
			</div>
			<div class="info">
				<h2>ğŸ§ª æ¸¬è©¦æŒ‰éˆ•ï¼š</h2>
				<p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¯ä»¥ç›´æ¥æ¸¬è©¦ä¸åŒç‹€æ…‹çš„å½ˆçª—ï¼š</p>
				<div class="test-buttons">
					<button class="test-btn test-btn--first" onclick="testFortuneFirst()">æ¸¬è©¦å®Œæˆå½ˆçª— - First (count=1)</button>
					<button class="test-btn test-btn--normal" onclick="testFortuneNormal()">æ¸¬è©¦å®Œæˆå½ˆçª— - Normal (count=10)</button>
					<button class="test-btn test-btn--final" onclick="testFortuneFinal()">æ¸¬è©¦å®Œæˆå½ˆçª— - Final (count=25)</button>
					<button class="test-btn test-btn--already" onclick="testAlreadyPlayed()">æ¸¬è©¦é‡è¤‡éŠç©å½ˆçª— (already_played=1)</button>
					<button class="test-btn test-btn--repeat-normal" onclick="testAlreadyPlayedNormal()">æ¸¬è©¦é‡è¤‡éŠç©å½ˆçª— - Normal (playCount > 1)</button>
				</div>
			</div>

			<!-- è½‰é‹å¡ç‰‡å®¹å™¨ -->
			<div id="divination-container"></div>
		</div>

		<!-- å¼•å…¥è½‰é‹å¡ç‰‡ JS -->
		<script src="./divination-card.js"></script>

		<script>
			// é¡¯ç¤ºç•¶å‰åƒæ•¸
			document.getElementById('param-first').textContent = DivinationCard.getUrlParam('first') || 'ç„¡'
			document.getElementById('param-count').textContent = DivinationCard.getUrlParam('count') || 'ç„¡'
			document.getElementById('param-already').textContent = DivinationCard.getUrlParam('already_played') || 'ç„¡'
			document.getElementById('param-member').textContent = DivinationCard.getUrlParam('udnmember') || 'ç„¡'

			// åˆå§‹åŒ–è½‰é‹å¡ç‰‡
			const result = DivinationCard.init({
				containerId: 'divination-container',
				showFirstTimePopup: true,
			})
			// æ¸¬è©¦å®Œæˆå½ˆçª— - First
			function testFortuneFirst() {
				sessionStorage.removeItem('divination-card-shown')
				const container = document.getElementById('divination-container')
				DivinationCard.showFortuneCard(container, DivinationCard.generateFortuneResult(), 1)
			}

			// æ¸¬è©¦å®Œæˆå½ˆçª— - Normal
			function testFortuneNormal() {
				sessionStorage.removeItem('divination-card-shown')
				const container = document.getElementById('divination-container')
				DivinationCard.showFortuneCard(container, DivinationCard.generateFortuneResult(), 10)
			}

			// æ¸¬è©¦å®Œæˆå½ˆçª— - Final
			function testFortuneFinal() {
				sessionStorage.removeItem('divination-card-shown')
				const container = document.getElementById('divination-container')
				DivinationCard.showFortuneCard(container, DivinationCard.generateFortuneResult(), 25)
			}

			// æ¸¬è©¦é‡è¤‡éŠç©å½ˆçª—
			function testAlreadyPlayed() {
				sessionStorage.removeItem('divination-card-shown')
				const container = document.getElementById('divination-container')
				DivinationCard.showAlreadyPlayedCard(container, 1)
			}
			// æ¸¬è©¦éç¬¬ä¸€æ¬¡çš„é‡è¤‡éŠç©å½ˆçª—
			function testAlreadyPlayedNormal() {
				sessionStorage.removeItem('divination-card-shown')
				const container = document.getElementById('divination-container')
				DivinationCard.showAlreadyPlayedCard(container, 5) // playCount > 1ï¼Œé¡¯ç¤º normal é¡å‹
			}

			console.log('è½‰é‹å¡ç‰‡åˆå§‹åŒ–å®Œæˆ:', result)
		</script>
	</body>
</html>
